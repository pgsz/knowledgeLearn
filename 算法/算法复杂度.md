# 算法复杂度



##  迭代与递归

### 迭代

重复执行某个任务的控制结构

- for
- while
- 嵌套循环



### 递归

通过函数调用自身来解决问题；包含两阶段：

1. **递**：程序不断深入地调用自身，通常传入更小或更简化的参数，直到达到 ”终止条件“。
2. **归**：触发 “终止条件” 后，查询从最深层的递归函数开始逐层返回，汇聚每一层的结果。

三个要素：

1. 终止条件：用于决定什么时候由 “递” 转 “归”
2. 递归调用：对应 ”递“ ，函数调用自身，通常输出更小或更简化的参数
3. 返回结果：对应 “归”， 将当前递归层级的结果返回至上一层

#### 调用栈

 递归函数每次调用自身，系统都会为新开启的函数分配内存，以存储局部变量、调用地址和其他信息等。导致： 

1. 递归通常比迭代更加耗费内存空间
2. 递归通常比循环的时间效率更低

#### 尾递归

函数在返回前的最后一步才进行递归回调；可被编译器或解释器优化

#### 递归数

 斐波那契数列 : 0,1,1,2,3,5,8,13...

```js
/* 斐波那契数列：递归 */
function fib(n) {
    // 终止条件 f(1) = 0, f(2) = 1
    if (n === 1 || n === 2) return n - 1;
    // 递归调用 f(n) = f(n-1) + f(n-2)
    const res = fib(n - 1) + fib(n - 2);
    // 返回结果 f(n)
    return res;
}
```



### 两者对比

|          |                  迭代                  |                    递归                    |
| :------: | :------------------------------------: | :----------------------------------------: |
| 实现方式 |                循环结构                |                函数调用自身                |
| 时间效率 |      效率通常较高，无函数调用开销      |          每次函数调用都会产生开销          |
| 内存使用 |       通常使用固定大小的内存空间       |     累计函数调用可能使用大量的栈帧空间     |
| 使用问题 | 适用与简单循环任务，代码直观、可读性好 | 适用于子问题分解，如树、图、分治、回溯等， |





## 时间复杂度

时间复杂度分析统计的不是算法运行时间，而是**算法运行时间随着数据量变大时的增长趋势**



 常见的时间复杂度类型 ：

![](.\images\常见的时间复杂度类型比较.png)

![](.\images\常见的时间复杂度类型.png)

#### 常数阶 O(1)

常数阶的操作数量与输入数据大小 n 无关，即不随着 n 的变化而变化。

#### 线性阶 O(n)

线性阶的操作数量相对于输入数据打小 n 以线性级别增长；通常出现在单层循环。

#### 平方阶 O(n<sup>2</sup>)

平方阶的操作数量相对于输入数据大小 n 以平方级别增长；通常出现在嵌套循环中。

#### 指数阶 O(2<sup>n</sup>)

通常出现在 递归 函数中。在穷举法（暴力搜索、回溯）中常见。

#### 对数阶 O(logn)

与指数阶相反，对数阶反映 “每轮缩减一半” 的情况。常出现在 递归 函数中。在 分治策略 算法中常见，体现 “一份为多“ 和 ”化繁为简“ 的思想。增长缓慢，仅次于 常数阶 的理想的时间复杂度。

#### 线性对数阶 O(nlogn)

常出现于 嵌套循环中，两层循环时间复杂度分别为 O(logn) 和 O(n)。主流排序算法的时间复杂度通常为线性对数阶，如：快速排序、归并排序、堆排序等。

#### 阶乘阶 O(n!)

通常出现在 递归 函数中。





## 空间复杂度

用于衡量算法占用内存空间随着数据量变大时的增长趋势。

![](E:\personalData\知识总结\算法\images\算法使用的相关空间.png)

- 暂存数据：保存算法运行过程中的各种常量、变量、对象等。
- 栈帧空间：保存调用函数的上下文数据。系统在每次调用函数时都会在栈顶部创建一个栈帧，函数返回后，栈帧空间会被释放。
- 指令空间：保存编译后的程序指令；在实际统计中通常忽略不计。

**注意**：只关注最差空间复杂度：以最差输入数据为准、以算法运行中的峰值内存为准。

![](E:\personalData\知识总结\算法\images\常见的空间复杂度类型比较.png)

![](E:\personalData\知识总结\算法\images\常见的空间复杂度类型.png)

#### 常数阶 O(1)

常数阶常见于 数量与输入数据大小 n 无关的常量、变量、对象等。

#### 线性阶 O(n)

线性阶常见于 元素数量与 n 成正比的 数组、链表、栈、队列等。

#### 平方阶 O(n<sup>2</sup>)

平方阶常见于 矩阵和图，元素数量与 n 成平方关系。

#### 指数阶 O(2<sup>n</sup>)

指数阶常见于 二叉树。

#### 对数阶 O(logn)

对数阶常见于 分治算法。























