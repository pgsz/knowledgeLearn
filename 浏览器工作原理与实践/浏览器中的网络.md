# 浏览器中的网络



## HTTP 

超文本协议

### HTTP 0.9

需求简单：用来传输体积很小的 HTML 文件

1. 只有一个请求行，没有 请求头、请求体
2. 服务器没有返回头信息
3. 文件内容是 ASCLL 字符流传输

![](.\images\HTTP-0.9 请求流程.webp)



### HTTP 1.0

核心需求：支持多种类型的文件下载

1. 定义请求、响应格式：文件类型、压缩方法、语言、编码类型等
2. 状态码
3. Cache机制
4. 用户代理等

![](E:\personalData\知识总结\浏览器工作原理与实践\images\HTTP-1.0 的请求流程.webp)



### HTTP 1.1

1. 改进持久连接：同一域名，允许同时建立6个TCP持久连接

2. 新增 Host、Content-Length 等字段

3. 客户端 Cookie、安全机制等

   

### HTTP 2.0

解决：1.1对带宽的利用率不高问题

导致原因：

1. TCP 慢启动
2. 同时开启多条 TCP 连接，会竞争固定的带宽
3. HTTP1.1 队头阻塞问题：持久连接，同一时刻只能处理一个请求

特性：一个域名只使用一个 TCP 长连接

1. 多路复用 - 核心：添加二进制分帧层，解决应用层（HTTP）面的队头阻塞
2. 设置请求优先级
3. 服务器推送
4. 头部压缩

![](.\images\HTTP-2 多路复用.webp)



### HTTP 3.0

解决 TCP 队头阻塞 和 TCP 建立连接的延时 问题

TCP 协议僵化，难以升级，操作系统内核、中间件、硬件等；所以采用 UDP

使用 QUIC 协议

<img src="E:\personalData\知识总结\浏览器工作原理与实践\images\HTTP-2 和 HTTP-3 协议栈.webp" style="zoom: 50%;" />

![](.\images\QUIC 协议的多路复用.webp)